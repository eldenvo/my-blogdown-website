---
title: Mapping your Oyster journeys in London with tidygraph and ggraph
author: Alex
date: '2017-11-09'
slug: mapping-your-oyster-journeys-in-london-with-tidygraph-and-ggraph
categories:
  - R
tags: []
---

If you live in London, or have ever visited it, you have probably used an [Oyster Card](https://oyster.tfl.gov.uk/oyster/entry.do). Introduced in 2003 by Transport for London, your Oyster is a smart payment card which you can use to travel on public transport around London: on buses, tubes, trains, trams and boats, by loading up pay-as-you-go cash onto the card, or pay for a travel card.

If you register your card with TfL, you can view your journey history (however you can only go back as far as 6 weeks). You can also set up TfL to email you at weekly or monthly intervals with your journeys in csv or pdf format. If you're someone like me, who loves the idea of collecting data like this, then this is too good an opportunity to pass up.

![Logging in to your Oyster account, you can view your journey history](/img/oyster-journey-history-menu.png)

![...and you can set up email alerts too](/img/oyster-journey-history-menu2.png)

I recent came across [this great post by Jesse Sadler](https://www.jessesadler.com/post/network-analysis-with-r/), which is a very good introduction to some network analysis concepts in R. Now, I have been collecting my own oyster journey history for a while now, but never quite been able to work out what to do with it. The concept of mapping it as a network interested me, but I could never get my ahead around some of the network and graph packages available. Jesse's post really makes it straightforward, and also shows how to use the `tidygraph` and `ggraph` packages to do it in a *tidy* manner.

So lets jump in - I've selected a random sample of 30 journeys I've made.

```{r, results = "hide"}
library(tidyverse)
library(stringr)
library(tidygraph)
library(ggraph)
```

```{r, results = 'hold'}
oyster <- read_csv("https://gist.github.com/eldenvo/459be5c21bb01251e740dae479b72691/raw/af31a3dee9749103cf0154523a9b3e7e6dfafb4e/oyster-raw-sample.csv")
oyster
```